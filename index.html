<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- basic styles -->
    <style type="text/css">
      body {
        font-family: "Roboto";
        background-color: #fafafa;
      }
      h1 {
        margin: 150px auto 30px auto;
        text-align: center;
      }
      canvas {
      }
      .g_gracket {
        width: 9999px;
        background-color: #1f1d29;
        padding: 55px 15px 5px;
        line-height: 100%;
        position: relative;
        overflow: hidden;
      }
      .g_round {
        float: left;
        margin-right: 70px;
      }
      .g_game {
        position: relative;
        margin-bottom: 15px;
      }
      .g_gracket h3 {
        margin: 0;
        padding: 10px 8px 8px;
        font-size: 18px;
        font-weight: normal;
        color: #fff;
      }
      .g_team {
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: rgba(255, 255, 255, 0.1) !important;
      }
      .g_team:first-child {
        /* border-top: unset; */
        border-radius: 6px 6px 0 0;
      }
      .g_team:last-child {
        border-radius: 0 0 6px 6px;
      }
      .g_round:last-child {
        margin-right: 20px;
      }
      .g_winner .g_team {
        background: #444;
		border-radius: 6px !important;
      }
	  .g_winner .g_team::after{
		border-radius: 0 6px 6px 0 !important;
	  }
      .g_winner .g_team {
        background: none;
      }
      .g_current {
        cursor: pointer;
        background: #a0b43c !important;
      }
      .g_round_label {
        top: -5px;
        font-weight: normal;
        color: #ccc;
        text-align: center;
        font-size: 18px;
      }
      .g_team[class*="winner"] {
        position: relative;
      }
      .g_team[class*="winner"]::after {
        content: "";
        display: block;
        position: absolute;
        right: -1px;
        height: 101%;
        bottom: 1px;
        background-color: #e03d22;
        width: 6%;
      }
	  .g_current::after {
        cursor: pointer;
        background: #fff !important;
      }
	  .g_team[class*="winner"]:hover::after{
		  background-color: #fff;
	  }
	  .g_winner .g_team::after {
		border-radius:  0 6px 6px 0;
	  }

      .g_team:first-child[class*="winner"]::after {
        /* border-top: unset; */
        border-radius: 0 6px 0 0;
      }
      .g_team:last-child[class*="winner"]::after {
        border-radius: 0 0 6px 0 ;
      }
    </style>

    <!-- dependencies -->
    <script src="jquery-3.3.1.min.js"></script>

    <!-- main lib -->
    <script type="text/javascript" src="jquery.gracket.min.js"></script>
    <script type="text/javascript" src="test.js"></script>
  </head>
  <body>
    <!-- empty gracket element -->
    <div class="my_gracket"></div>

    <script type="text/javascript">
      (function (win, doc, $) {
        // Fake Data
        win.TestData = [
          [
            [
              {
                name: "Erik Zettersten",
                winner: 1,
                id: "winner-erik-zettersten",
              },
              { name: "Andrew Miller", winner: 0, id: "andrew-miller" },
            ],
            [
              { name: "James Coutry", winner: 1, id: "winner-james-coutry" },
              { name: "Sam Merrill", winner: 0, id: "sam-merrill" },
            ],
            [
              { name: "Anothy Hopkins", id: "winner-anthony-hopkins" },
              { name: "Everett Zettersten", id: "everett-zettersten" },
            ],
            [
              { name: "John Scott", id: "john-scott" },
              { name: "Teddy Koufus", id: "winner-teddy-koufus" },
            ],
            [
              { name: "Arnold Palmer", id: "arnold-palmer" },
              { name: "Ryan Anderson", winner: 1, id: "winner-ryan-anderson" },
            ],
            [
              { name: "Jesse James", winner: 0, id: "jesse-james" },
              {
                name: "Scott Anderson",
                winner: 1,
                id: "winner-scott-anderson",
              },
            ],
            [
              { name: "Josh Groben", winner: 0, id: "josh-groben" },
              {
                name: "Sammy Zettersten",
                winner: 1,
                id: "winner-sammy-zettersten",
              },
            ],
            [
              { name: "Jake Coutry", winner: 1, id: "winner-jake-coutry jake-coutry" },
              {
                name: "Spencer Zettersten",
                winner: 0,
                id: "spencer-zettersten",
              },
            ],
          ],
          [
            [
              {
                name: "Erik Zettersten",
                winner: 1,
                id: "winner-erik-zettersten",
              },
              { name: "James Coutry", winner: 0, id: "james-coutry" },
            ],
            [
              {
                name: "Anothy Hopkins",
                winner: 1,
                id: "winner-anthony-hopkins",
              },
              { name: "Teddy Koufus", winner: 0, id: "teddy-koufus" },
            ],
            [
              { name: "Ryan Anderson", winner: 1, id: "winner-ryan-anderson" },
              { name: "Scott Anderson", winner: 0, id: "scott-anderson" },
            ],
            [
              {
                name: "Sammy Zettersten",
                winner: 1,
                id: "winner-sammy-zettersten",
              },
              { name: "Jake Coutry", winner: 0, id: "jake-coutry" },
            ],
          ],
          [
            [
              {
                name: "Erik Zettersten",
                winner: 1,
                id: "winner-erik-zettersten",
              },
              { name: "Anothy Hopkins", winner: 0, id: "anthony-hopkins" },
            ],
            [
              { name: "Ryan Anderson", winner: 1, id: "winner-ryan-anderson" },
              { name: "Sammy Zettersten", winner: 0, id: "sammy-zettersten" },
            ],
          ],
          [
            [
              {
                name: "Erik Zettersten",
                winner: 1,
                id: "winner-erik-zettersten",
              },
              { name: "Ryan Anderson", winner: 0, id: "ryan-anderson" },
            ],
          ],
          [
            [
              {
                name: "Erik Zettersten",
                winner: 1,
                id: "winner-erik-zettersten",
              },
            ],
          ],
        ];

        // array of numbers

        const numb_array = [];
        for (let index = 0; index < win.TestData.length; index++) {
          if (index !== win.TestData.length - 1) {
            numb_array.push("раунд" + " " + (index + 1));
          } else {
            numb_array.push("победитель турнира");
          }
        }

        // initializer
        $(".my_gracket").gracket({
          src: win.TestData,
          roundLabels: numb_array,
        });
      })(window, document, jQuery);

      //   added class of winners
    </script>
  </body>
</html>
